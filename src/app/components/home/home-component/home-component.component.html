<!DOCTYPE html>
<header>
    <div class="homeButtons"> 
        <button mat-icon-button >
            <mat-icon class="buttonStyle" (click)="goToHomePage()">home</mat-icon>
        </button>
          <button class="buttonStyle" mat-button  (click)="goToEditProfilePage()">Actualizare profil</button>
          <button class="buttonStyle" mat-button  (click)="goToSearchPage()">Căutare absolvenți</button>
          <button class="buttonStyle" mat-button  (click)="goToLoginPage()" >Părăsește contul</button>
    </div>
</header>
<body>
    <div *ngIf="showHomePage" >
        <div class="homeText">
            <div class="profileInformation">
                <h1>Bine ai venit,</h1>
                <h1>{{ setName() }}</h1>
                <img src="{{ setPath() }}"/>
                <p>{{ setDescription() }}</p>
                <button mat-raised-button color="accent" class="openButtons" (click)="openFinishedStudys()">Studii efectuate</button>
                <button mat-raised-button color="accent" class="openButtons" (click)="openExperience()">Experiență profesională</button>
                <div *ngIf="showFinishedStudys">
                    <br>
                    <table class="designTable" *ngIf="finishStudyDetailed.length > 0">      
                        <tr>
                          <th>Facultate</th>
                          <th>Program de studiu</th>
                          <th>Specializare</th>
                          <th>Anul terminari</th>
                        </tr>
                        <tr *ngFor="let finishStudy of finishStudyDetailed"> 
                          <td>Facultate</td>
                          <td>{{finishStudy.studyPrograms[finishStudy.studyProgramId].programName}}</td>
                          <td>{{finishStudy.specializations[finishStudy.specializationId].specializationName}}/td>
                          <td>{{finishStudy.year}}</td>
                        </tr>
                      </table>
                      <button mat-raised-button color="primary" class="closeButtons" (click)="close()">Închide</button>
                      <button class="buttonModifie" mat-raised-button color="accent" (click)="goToEditProfilePage()">Actualizează profilul</button>  
                </div>

                <div *ngIf="showExperience">
                    <br>
                    <table class="designTable" *ngIf="experience.length > 0">      
                        <tr>
                          <th>Firmă</th>
                          <th>Poziție ocupată</th>
                          <th>Perioadă</th>
                        </tr>
                        <tr *ngFor="let exp of experience"> 
                          <td>{{exp.companyName}}</td>
                          <td>{{exp.jobTitle}}</td>
                          <td *ngIf="exp.endDate!=null">{{exp.startDate + '-'+ exp.endDate }}</td>
                          <td *ngIf="exp.endDate==null">{{exp.startDate + '-prezent' }}</td>
                        </tr>
                      </table>
                      <button mat-raised-button color="primary" class="closeButtons"(click)="close()">Închide</button>
                      <button class="buttonModifie" mat-raised-button color="accent" (click)="goToEditProfilePage()">Actualizează profilul</button>
                </div>        
            </div>
            <div class="postsInformation">
                <h1>Postările tale</h1>
                <hr>
                <button *ngIf="closeButtonPost" class="buttonPost" mat-raised-button color="primary" (click)="openNewPost()">Adaugă o postare</button>
                <div *ngIf="addPost">
                  <div class="formPost">
                    <mat-form-field appearance="fill" class="info">
                      <mat-label>Titlu postare</mat-label>
                      <input matInput  [(ngModel)]="titlePost" >
                    </mat-form-field>
  
                    <mat-form-field appearance="fill" class="info">
                      <mat-label>Adaugă o descriere postări</mat-label>
                      <textarea matInput [(ngModel)]="textPost"></textarea>
                    </mat-form-field>
                    <br>
                    <p>Poți adăuga și o imagine postări tale</p>
                    <input style="display:none"  type="file" (change)="onFileSelected($event)" #fileInput>
                    <button type="button" class="addImage" mat-raised-button  (click)="fileInput.click()">Alege o fotografie</button>  
                    <p *ngIf="imageUrl!=''">Imaginea a fost încărcată cu succes</p>
                    <br>

                    <button class="buttonNewPost" mat-raised-button color="accent" (click)="addNewPost()">Adaugă o postare</button>
                    <button class="buttonClosePost" mat-raised-button color="primary" (click)="closePost()">Închide</button>
                  </div>
                </div>
            </div>
        </div>
    </div>
    <div *ngIf="showEditPage">
        <app-edit-profile-component></app-edit-profile-component>
    </div>
    <div *ngIf="showSearchPage">
        <app-search-component></app-search-component>
    </div> 
</body>
